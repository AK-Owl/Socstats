  <p id="notice"><%= notice %></p>
  <header class="header_analysis">
    <div class="container d-flex h-100 align-items-center">
      <div class="mx-auto text-center">
        <h1 class="mx-auto my-0 text-uppercase">Results</h1>
      </div>
    </div>
  </header>

<script src="https://www.amcharts.com/lib/4/core.js"></script>
<script src="https://www.amcharts.com/lib/4/charts.js"></script>
<script src="https://www.amcharts.com/lib/4/themes/animated.js"></script>


<style>
#chartdiv {
  width: 50%;
  height: 500px;
}
#chart1div {
  width: 100%;
  height: 500px;
}

body {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
}
</style>

<!-- HTML -->
<div id="chartdiv">
<!--Refrences: from https://www.amcharts.com/ : JavaScript code is refractored based on the instructions provided -->
<!-- Resources -->


<!-- Chart code -->
<script>
/**
 * --------------------------------------------------------
 * This demo was created using amCharts V4 preview release.
 * 
 * V4 is the latest installement in amCharts data viz
 * library family, to be released in the first half of
 * 2018.
 *
 * For more information and documentation visit:
 * https://www.amcharts.com/docs/v4/
 * --------------------------------------------------------
 */

am4core.ready(function() {
am4core.useTheme(am4themes_animated);

// Create chart instance
var chart = am4core.create("chartdiv", am4charts.XYChart);
chart.paddingTop = 40;
// Add data
chart.data = [{
"country": "<%= raw @countries[0]%>",
  "HPI": <%= raw @pfscr[0]%>,
  "HFI": <%= raw @hdscr[0]%>,
  "HEI": <%= raw @efscr[0]%>,
  "HDI": <%= raw @hdindex[0]%>,
  "GII": <%= raw @gii[0]%>
}, {
"country": "<%= raw @countries[1]%>",
  "HPI": <%= raw @pfscr[1]%>,
  "HFI": <%= raw @hdscr[1]%>,
  "HEI": <%= raw @efscr[1]%>,
  "HDI": <%= raw @hdindex[1]%>,
  "GII": <%= raw @gii[1]%>
}, {
"country": "<%= raw @countries[2]%>",
  "HPI": <%= raw @pfscr[2]%>,
  "HFI": <%= raw @hdscr[2]%>,
  "HEI": <%= raw @efscr[2]%>,
  "HDI": <%= raw @hdindex[2]%>,
  "GII": <%= raw @gii[2]%>
}, {
"country": "<%= raw @countries[3]%>",
  "HPI": <%= raw @pfscr[3]%>,
  "HFI": <%= raw @hdscr[3]%>,
  "HEI": <%= raw @efscr[3]%>,
  "HDI": <%= raw @hdindex[3]%>,
  "GII": <%= raw @gii[3]%>
}, {
"country": "<%= raw @countries[4]%>",
  "HPI": <%= raw @pfscr[4]%>,
  "HFI": <%= raw @hdscr[4]%>,
  "HEI": <%= raw @efscr[4]%>,
  "HDI": <%= raw @hdindex[4]%>,
  "GII": <%= raw @gii[4]%>
 
} ];


// Create axes
var categoryAxis = chart.xAxes.push(new am4charts.CategoryAxis());
categoryAxis.dataFields.category = "country";
categoryAxis.renderer.grid.template.location = 0;
categoryAxis.renderer.minGridDistance = 60;
categoryAxis.tooltip.disabled = true;

var valueAxis = chart.yAxes.push(new am4charts.ValueAxis());
valueAxis.renderer.minWidth = 50;
valueAxis.min = 0;
valueAxis.cursorTooltipEnabled = false;

function createValueAxis(title, showgrid) {
  
  // Create axis
  var axis = chart.yAxes.push(new am4charts.ValueAxis());
  axis.renderer.grid.template.disabled = !showgrid;
    
  // Set up axis title
  axis.title.text = title;

  return axis;
}

function createSeries(key, title, axis) {
  var series = chart.series.push(new am4charts.ColumnSeries());
  series.dataFields.valueY = key;
  series.dataFields.categoryX = "country";
  series.yAxis = axis;
  series.tooltipText = "";
  series.columns.template.strokeWidth = 0;
  

  series.columns.template.column.cornerRadiusTopLeft = 10;
  series.columns.template.column.cornerRadiusTopRight = 10;
  series.columns.template.column.fillOpacity = 0.8;
    

  return series;
}

createSeries(
  "HPI",
  "Series #1",
  createValueAxis("Human Personal Freedom Index", true)
);

createSeries(
  "HFI",
  "Series #2",
  createValueAxis("Human Freedom Index Score", false)
);

createSeries(
  "HEI",
  "Series #3",
  createValueAxis("Human Economic Freedom Index Score", false)
);

createSeries(
  "HDI",
  "Series #4",
  createValueAxis("Human Development Index ", false)
);

createSeries(
  "GII",
  "Series #3",
  createValueAxis("Global Inequality Index", false)
);
});
</script>
</div>

<div id = "chart1div">
<script>
/**
 * --------------------------------------------------------
 * This demo was created using amCharts V4 preview release.
 * 
 * V4 is the latest installement in amCharts data viz
 * library family, to be released in the first half of
 * 2018.
 *
 * For more information and documentation visit:
 * https://www.amcharts.com/docs/v4/
 * --------------------------------------------------------
 */

am4core.ready(function() {
am4core.useTheme(am4themes_animated);

// Create chart instance
var chart1 = am4core.create("chartdiv", am4charts.XYChart);
chart1.paddingTop = 40;
// Add data
chart1.data = [{
"country": "<%= raw @countries[0]%>",
  "ROL": <%= raw @pfrol[0]%>,
  "SS": <%= raw @pfss[0]%>,
  "MOV": <%= raw @pfmov[0]%>,
  "REL": <%= raw @pfrel[0]%>,
  "AAS": <%= raw @pfass[0]%>,
  "EXP": <%= raw @pfexp[0]%>
}, {
"country": "<%= raw @countries[1]%>",
  "ROL": <%= raw @pfrol[1]%>,
  "SS": <%= raw @pfss[1]%>,
  "MOV": <%= raw @pfmov[1]%>,
  "REL": <%= raw @pfrel[1]%>,
  "AAS": <%= raw @pfass[1]%>,
  "EXP": <%= raw @pfexp[1]%>
}, {
"country": "<%= raw @countries[2]%>",
  "ROL": <%= raw @pfrol[2]%>,
  "SS": <%= raw @pfss[2]%>,
  "MOV": <%= raw @pfmov[2]%>,
  "REL": <%= raw @pfrel[2]%>,
  "AAS": <%= raw @pfass[2]%>,
  "EXP": <%= raw @pfexp[2]%>
}, {
"country": "<%= raw @countries[3]%>",
  "ROL": <%= raw @pfrol[3]%>,
  "SS": <%= raw @pfss[3]%>,
  "MOV": <%= raw @pfmov[3]%>,
  "REL": <%= raw @pfrel[3]%>,
  "AAS": <%= raw @pfass[3]%>,
  "EXP": <%= raw @pfexp[3]%>
}, {
"country": "<%= raw @countries[4]%>",
  "ROL": <%= raw @pfrol[4]%>,
  "SS": <%= raw @pfss[4]%>,
  "MOV": <%= raw @pfmov[4]%>,
  "REL": <%= raw @pfrel[4]%>,
  "AAS": <%= raw @pfass[4]%>,
  "EXP": <%= raw @pfexp[4]%>
}];


// Create axes
var categoryAxis = chart1.xAxes.push(new am4charts.CategoryAxis());
categoryAxis.dataFields.category = "country";
categoryAxis.renderer.grid.template.location = 0;
categoryAxis.renderer.minGridDistance = 60;
categoryAxis.tooltip.disabled = true;

var valueAxis = chart1.yAxes.push(new am4charts.ValueAxis());
valueAxis.renderer.minWidth = 50;
valueAxis.min = 0;
valueAxis.cursorTooltipEnabled = false;

function createValueAxis(title, showgrid) {
  
  // Create axis
  var axis = chart1.yAxes.push(new am4charts.ValueAxis());
  axis.renderer.grid.template.disabled = !showgrid;
    
  // Set up axis title
  axis.title.text = title;

  return axis;
}

function createSeries(key, title, axis) {
  var series = chart1.series.push(new am4charts.ColumnSeries());
  series.dataFields.valueY = key;
  series.dataFields.categoryX = "country";
  series.yAxis = axis;
  series.tooltipText = "";
  series.columns.template.strokeWidth = 0;
  

  series.columns.template.column.cornerRadiusTopLeft = 10;
  series.columns.template.column.cornerRadiusTopRight = 10;
  series.columns.template.column.fillOpacity = 0.8;
    

  return series;
}

createSeries(
  "ROL",
  "Series #1",
  createValueAxis("Rule of law", true)
);

createSeries(
  "SS",
  "Series #2",
  createValueAxis("Security and Safety", false)
);

createSeries(
  "MOV",
  "Series #3",
  createValueAxis("Movement, false)
);

createSeries(
  "REL",
  "Series #4",
  createValueAxis("Religion", false)
);

createSeries(
  "AAS",
  "Series #3",
  createValueAxis("Association, Assembly, and Civil Society", false)
);

createSeries(
  "EXP",
  "Series #3",
  createValueAxis("Expression and Information", false)
);
});
});
</script>
</div>

